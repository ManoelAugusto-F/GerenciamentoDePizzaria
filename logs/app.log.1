2025-07-13 11:38:40,491 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists itens_pedido 
       drop constraint if exists FK42mycompce3b7yt3l6ukdwsxy
2025-07-13 11:38:40,497 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists itens_pedido 
       drop constraint if exists FKxytdlekpdaobqphujy9bmuhl
2025-07-13 11:38:40,499 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists logs 
       drop constraint if exists FKiwemym0xxgb0o2lx77swfg5q3
2025-07-13 11:38:40,500 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-07-13 11:38:40,502 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists order_items 
       drop constraint if exists FKgam9c7d0dd120965bwkse8meb
2025-07-13 11:38:40,504 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists orders 
       drop constraint if exists FK32ql8ubntj5uh44ph9659tiih
2025-07-13 11:38:40,505 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists pedidos 
       drop constraint if exists FKgi01bjlx8b6mc2f5d4idptiqb
2025-07-13 11:38:40,507 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists pedidos 
       drop constraint if exists FK6dtctern9votxnaydg7g2uifb
2025-07-13 11:38:40,509 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop table if exists itens_pedido cascade
2025-07-13 11:38:40,512 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop table if exists logs cascade
2025-07-13 11:38:40,514 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop table if exists order_items cascade
2025-07-13 11:38:40,515 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop table if exists orders cascade
2025-07-13 11:38:40,517 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop table if exists pedidos cascade
2025-07-13 11:38:40,519 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop table if exists pizzas cascade
2025-07-13 11:38:40,521 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop table if exists produtos cascade
2025-07-13 11:38:40,523 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop table if exists users cascade
2025-07-13 11:38:40,525 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop table if exists usuarios cascade
2025-07-13 11:38:40,527 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop sequence if exists itens_pedido_SEQ
2025-07-13 11:38:40,529 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop sequence if exists logs_SEQ
2025-07-13 11:38:40,530 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop sequence if exists order_items_SEQ
2025-07-13 11:38:40,532 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop sequence if exists orders_SEQ
2025-07-13 11:38:40,534 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop sequence if exists pedidos_SEQ
2025-07-13 11:38:40,535 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop sequence if exists pizzas_SEQ
2025-07-13 11:38:40,537 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop sequence if exists produtos_SEQ
2025-07-13 11:38:40,539 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop sequence if exists users_SEQ
2025-07-13 11:38:40,541 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    drop sequence if exists usuarios_SEQ
2025-07-13 11:38:40,543 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create sequence itens_pedido_SEQ start with 1 increment by 50
2025-07-13 11:38:40,547 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create sequence logs_SEQ start with 1 increment by 50
2025-07-13 11:38:40,549 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create sequence order_items_SEQ start with 1 increment by 50
2025-07-13 11:38:40,551 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create sequence orders_SEQ start with 1 increment by 50
2025-07-13 11:38:40,552 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create sequence pedidos_SEQ start with 1 increment by 50
2025-07-13 11:38:40,554 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create sequence pizzas_SEQ start with 1 increment by 50
2025-07-13 11:38:40,556 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create sequence produtos_SEQ start with 1 increment by 50
2025-07-13 11:38:40,557 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create sequence users_SEQ start with 1 increment by 50
2025-07-13 11:38:40,559 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create sequence usuarios_SEQ start with 1 increment by 50
2025-07-13 11:38:40,561 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create table itens_pedido (
        precoUnitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint not null,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-07-13 11:38:40,568 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create table logs (
        dataHora timestamp(6) not null,
        id bigint not null,
        usuario_id bigint not null,
        acao varchar(255) not null,
        descricao varchar(255) not null,
        detalhes varchar(255),
        primary key (id)
    )
2025-07-13 11:38:40,572 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create table order_items (
        price float(53),
        quantity integer,
        id bigint not null,
        order_id bigint,
        pizza_id bigint,
        primary key (id)
    )
2025-07-13 11:38:40,575 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create table orders (
        total float(53),
        createdAt timestamp(6),
        id bigint not null,
        user_id bigint,
        status varchar(255),
        primary key (id)
    )
2025-07-13 11:38:40,578 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create table pedidos (
        valorTotal numeric(38,2) not null,
        atendente_id bigint,
        cliente_id bigint not null,
        dataAtualizacao timestamp(6) not null,
        dataPedido timestamp(6) not null,
        id bigint not null,
        enderecoEntrega varchar(255) not null,
        formaPagamento varchar(255) not null,
        status varchar(255) not null check (status in ('RECEBIDO','PREPARANDO','PRONTO','ENTREGUE')),
        primary key (id)
    )
2025-07-13 11:38:40,583 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create table pizzas (
        available boolean,
        price float(53),
        id bigint not null,
        description varchar(255),
        imageUrl varchar(255),
        name varchar(255),
        primary key (id)
    )
2025-07-13 11:38:40,587 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create table produtos (
        disponivel boolean not null,
        preco numeric(38,2) not null,
        id bigint not null,
        descricao varchar(1000),
        imagem_url varchar(255),
        nome varchar(255) not null,
        tipo varchar(255) not null check (tipo in ('PIZZA','BEBIDA','EXTRAS')),
        primary key (id)
    )
2025-07-13 11:38:40,592 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create table users (
        id bigint not null,
        email varchar(255) unique,
        name varchar(255),
        password varchar(255),
        roles varchar(255),
        primary key (id)
    )
2025-07-13 11:38:40,597 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    create table usuarios (
        ativo boolean not null,
        perfil smallint check (perfil between 0 and 2),
        id bigint not null,
        email varchar(255),
        nomeCompleto varchar(255),
        senha varchar(255),
        primary key (id)
    )
2025-07-13 11:38:40,602 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists itens_pedido 
       add constraint FK42mycompce3b7yt3l6ukdwsxy 
       foreign key (pedido_id) 
       references pedidos
2025-07-13 11:38:40,605 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists itens_pedido 
       add constraint FKxytdlekpdaobqphujy9bmuhl 
       foreign key (produto_id) 
       references produtos
2025-07-13 11:38:40,607 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists logs 
       add constraint FKiwemym0xxgb0o2lx77swfg5q3 
       foreign key (usuario_id) 
       references usuarios
2025-07-13 11:38:40,609 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-13 11:38:40,610 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists order_items 
       add constraint FKgam9c7d0dd120965bwkse8meb 
       foreign key (pizza_id) 
       references pizzas
2025-07-13 11:38:40,613 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-13 11:38:40,614 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists pedidos 
       add constraint FKgi01bjlx8b6mc2f5d4idptiqb 
       foreign key (atendente_id) 
       references usuarios
2025-07-13 11:38:40,617 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) 
    alter table if exists pedidos 
       add constraint FK6dtctern9votxnaydg7g2uifb 
       foreign key (cliente_id) 
       references usuarios
2025-07-13 11:38:40,619 pop-os pizzeria-management-dev.jar[52331] DEBUG [org.hib.SQL] (JPA Startup Thread) INSERT INTO usuarios (nomecompleto, email, senha, perfil, ativo) VALUES ('Manoel Augusto', 'manoelaugusto.ferreira@gmail.com', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVEFDa', 'ADMIN', true), ('Julio Cesar', 'juliojcc.franca@gmail.com', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVEFDa', 'ADMIN', true), ('Atendente', 'atendente@pizzeria.com', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVEFDa', 'ATENDENTE', true), ('Cliente', 'cliente@pizzeria.com', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVEFDa', 'CLIENTE', true)
2025-07-13 11:38:40,622 pop-os pizzeria-management-dev.jar[52331] WARN  [org.hib.too.sch.int.ExceptionHandlerLoggedImpl] (JPA Startup Thread) GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios (nomecompleto, email, senha, perfil, ativo) VALUES ('Manoel Augusto', 'manoelaugusto.ferreira@gmail.com', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVEFDa', 'ADMIN', true), ('Julio Cesar', 'juliojcc.franca@gmail.com', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVEFDa', 'ADMIN', true), ('Atendente', 'atendente@pizzeria.com', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVEFDa', 'ATENDENTE', true), ('Cliente', 'cliente@pizzeria.com', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVEFDa', 'CLIENTE', true)" via JDBC [ERROR: invalid input syntax for type smallint: "ADMIN"
  Posição: 192]: org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios (nomecompleto, email, senha, perfil, ativo) VALUES ('Manoel Augusto', 'manoelaugusto.ferreira@gmail.com', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVEFDa', 'ADMIN', true), ('Julio Cesar', 'juliojcc.franca@gmail.com', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVEFDa', 'ADMIN', true), ('Atendente', 'atendente@pizzeria.com', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVEFDa', 'ATENDENTE', true), ('Cliente', 'cliente@pizzeria.com', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVEFDa', 'CLIENTE', true)" via JDBC [ERROR: invalid input syntax for type smallint: "ADMIN"
  Posição: 192]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applyScript(Helper.java:255)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportFiles(SchemaCreatorImpl.java:665)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:584)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:184)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:256)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at io.quarkus.hibernate.orm.runtime.observers.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:21)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at io.quarkus.hibernate.orm.runtime.boot.FastBootEntityManagerFactoryBuilder.build(FastBootEntityManagerFactoryBuilder.java:87)
	at io.quarkus.hibernate.orm.runtime.FastBootHibernatePersistenceProvider.createEntityManagerFactory(FastBootHibernatePersistenceProvider.java:72)
	at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:80)
	at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)
	at io.quarkus.hibernate.orm.runtime.JPAConfig$LazyPersistenceUnit.get(JPAConfig.java:157)
	at io.quarkus.hibernate.orm.runtime.JPAConfig$1.run(JPAConfig.java:64)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.postgresql.util.PSQLException: ERROR: invalid input syntax for type smallint: "ADMIN"
  Posição: 192
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at io.agroal.pool.wrapper.StatementWrapper.execute(StatementWrapper.java:235)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 21 more

2025-07-13 11:38:40,626 pop-os pizzeria-management-dev.jar[52331] INFO  [io.quarkus] (Quarkus Main Thread) pizzeria-management 1.0.0-SNAPSHOT on JVM (powered by Quarkus 3.7.1) started in 0.691s. Listening on: http://localhost:8080
2025-07-13 11:38:40,626 pop-os pizzeria-management-dev.jar[52331] INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.
2025-07-13 11:38:40,627 pop-os pizzeria-management-dev.jar[52331] INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, cdi, hibernate-orm, hibernate-orm-panache, hibernate-validator, jdbc-h2, jdbc-postgresql, narayana-jta, resteasy-reactive, resteasy-reactive-jackson, security, smallrye-context-propagation, smallrye-jwt, smallrye-openapi, swagger-ui, vertx]
2025-07-13 11:38:40,627 pop-os pizzeria-management-dev.jar[52331] INFO  [io.qua.dep.dev.RuntimeUpdatesProcessor] (vert.x-worker-thread-1) Live reload total time: 0.693s 
2025-07-13 11:53:03,619 pop-os pizzeria-management-dev.jar[52331] INFO  [io.quarkus] (Shutdown thread) pizzeria-management stopped in 0.016s
